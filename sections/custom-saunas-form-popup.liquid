{% assign popup_name = "custom-saunas" %}
{% render 'form-popup'
  , form_popup_name: "custom-saunas" %}

<script>
  document.addEventListener('DOMContentLoaded', () => {
    let customSauna = document.querySelectorAll('a[href*="#custom-saunas"]')
    let popup = document.getElementById("{{ popup_name }}-contact-form");

    for (let i = 0; i < customSauna.length; i++) {
      customSauna[i].addEventListener("click", (e) => {
        e.preventDefault()
        popup.style.display = "block";
      })
    }

    document.getElementById("{{ popup_name }}-contact-form-close").addEventListener("click", () => {
      popup.style.display = "none";
    });
  });
</script>

{% schema %}
  {
    "name": "Custom Saunas Form",
    "tag": "section",
    "class": "cc-contact-form",
    "settings": [
      {
        "type": "header",
        "content": "Section header"
      },
      {
        "type": "text",
        "id": "heading",
        "default": "Interested in a custom sauna?",
        "label": "Contact us"
      },
      {
        "type": "select",
        "id": "heading_align",
        "label": "Heading alignment",
        "options": [
          {
            "value": "text-start",
            "label": "Left"
          }, {
            "value": "text-center",
            "label": "Center"
          }, {
            "value": "text-end",
            "label": "Right"
          }
        ],
        "default": "text-center"
      },
      {
        "type": "url",
        "id": "send_link",
        "label": "Send Link"
      }, {
        "type": "header",
        "content": "Layout"
      }, {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      }, {
        "type": "radio",
        "id": "image_position",
        "label": "Image position",
        "options": [
          {
            "value": "top",
            "label": "Above form"
          }, {
            "value": "bottom",
            "label": "Below form"
          }
        ],
        "default": "top"
      }, {
        "type": "header",
        "content": "Style"
      }, {
        "type": "select",
        "id": "color_scheme",
        "label": "Color scheme",
        "options": [
          {
            "value": "none",
            "label": "Default"
          }, {
            "value": "1",
            "label": "Scheme 1"
          }, {
            "value": "2",
            "label": "Scheme 2"
          }, {
            "value": "3",
            "label": "Scheme 3"
          }
        ],
        "default": "none"
      }, {
        "type": "checkbox",
        "id": "full_width",
        "label": "Make section background full width",
        "default": true
      }, {
        "type": "select",
        "id": "button_style",
        "label": "Button",
        "options": [
          {
            "value": "btn btn--primary",
            "label": "Primary button"
          }, {
            "value": "btn btn--secondary",
            "label": "Secondary button"
          }
        ],
        "default": "btn btn--primary"
      }
    ],
    "blocks": [
      {
        "type": "first_name",
        "name": "First Name",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "required",
            "label": "Required",
            "default": true
          }, {
            "type": "checkbox",
            "id": "half_width",
            "label": "Half width on large screens",
            "default": false
          }
        ]
      }, {
        "type": "last_name",
        "name": "Last Name",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "required",
            "label": "Required",
            "default": true
          }, {
            "type": "checkbox",
            "id": "half_width",
            "label": "Half width on large screens",
            "default": false
          }
        ]
      }, {
        "type": "email",
        "name": "Email",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "required",
            "label": "Required",
            "default": true
          }, {
            "type": "checkbox",
            "id": "half_width",
            "label": "Half width on large screens",
            "default": false
          }
        ]
      }, {
        "type": "body",
        "name": "Message",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "required",
            "label": "Required",
            "default": true
          }, {
            "type": "checkbox",
            "id": "half_width",
            "label": "Half width on large screens",
            "default": false
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Custom Saunas Form",
        "blocks": [
          {
            "type": "first_name",
            "settings": {
              "half_width": true
            }
          }, {
            "type": "last_name",
            "settings": {
              "half_width": true
            }
          }, {
            "type": "email",
            "settings": {
              "half_width": false
            }
          }, {
            "type": "body"
          }
        ]
      }
    ],
    "disabled_on": {
      "groups": ["header", "footer"]
    }
  }
{% endschema %}